---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
dados_armas_sp <- readr::read_rds("inst/dados_sp/dados_armas_sp.rds")
```

# isdp.armas

<!-- badges: start -->
<!-- badges: end -->

## Dados São Paulo

### Variáveis criadas

- `id_bo`
    - onde: `data-raw/dados_sp/01-import.R`
    - descrição: identificador de boletim de ocorrência
    - metodologia: representa a combinação única de `id_delegacia`, `ano_bo` e `num_bo`
    - código: `id_bo = vctrs::vec_group_id(paste0(id_delegacia, num_bo, ano_bo))`


### Observações

- Existem algumas armas com mesmo `id_arma` e `arma_numero_serie` diferentes. São apenas 6 casos e são sempre apenas 2 números de série distintos. 

```{r, echo = FALSE}
ids <- dados_armas_sp |>
  dplyr::distinct(id_arma, arma_numero_serie) |>
  dplyr::count(id_arma, sort = TRUE) |>
  dplyr::filter(n == 2) |>
  dplyr::pull(id_arma)
dados_armas_sp |>
  dplyr::distinct(id_arma, arma_numero_serie) |>
  dplyr::filter(id_arma %in% ids) |>
  dplyr::arrange(id_arma) |> 
  knitr::kable()
```

